!function(){"use strict";function t(t,e,i){var n=document.createElement("table");n.setAttribute("border","1"),n.innerHTML=e.map((function(t,e){return"<tr>".concat(t.map((function(t,i){return 1===t?"<td \n            data-x=".concat(i,"\n            data-y=").concat(e,'\n            class="cell alive" \n            style="background-color:#FA58D0; height:10px; width:10px;"></td>'):"<td \n            data-x=".concat(i,"\n            data-y=").concat(e,'\n            class="cell dead" \n            style="background-color:#FFFFFF; height:10px; width:10px;"></td>')})).join(""),"</tr>")})).join(""),n.addEventListener("click",(function(t){var e=t.target,n=Number(e.getAttribute("data-x")),r=Number(e.getAttribute("data-y"));n>=0&&r>=0&&i(n,r)})),t.innerHTML="",t.append(n)}function e(t,e,i){var n=t[i];if(void 0===n)return 0;var r=n[e];return void 0===r?0:r}function i(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function n(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}new(function(){function r(e,i,a){var u=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n(this,"gameIsRunning",!1),n(this,"speed",1e3),n(this,"cellClickHandler",(function(e,i){u.field[i][e]=0===u.field[i][e]?1:0,t(u.fieldWrapper,u.field,u.cellClickHandler)})),this.rootElement=e,this.x=i,this.y=a,this.createMarkup(this.x,this.y),this.makeField(this.x,this.y)}var a,u;return a=r,(u=[{key:"createMarkup",value:function(t,e){var i=this;this.inputX=document.createElement("input"),this.inputX.type="number",this.inputX.placeholder="X",this.inputX.value=String(t),this.inputX.addEventListener("change",(function(t){var e=t.currentTarget;i.updateCols(Number(e.value))})),this.inputY=document.createElement("input"),this.inputY.type="number",this.inputY.placeholder="Y",this.inputY.value=String(e),this.inputY.addEventListener("change",(function(t){var e=t.currentTarget;i.updateRows(Number(e.value))}));var n=document.createElement("input");n.type="range",n.setAttribute("min","100"),n.setAttribute("max","10000"),n.setAttribute("value",String(this.speed)),n.setAttribute("step","100"),n.addEventListener("change",(function(t){var e=t.currentTarget;i.speed=Number(e.value),i.timer&&(clearInterval(i.timer),i.start())})),this.fieldWrapper=document.createElement("div"),this.fieldWrapper.className="field-wrapper",this.button=document.createElement("button"),this.button.innerHTML="Start",this.button.addEventListener("click",(function(){i.gameIsRunning?i.stop():i.start()})),this.rootElement.append(this.inputX),this.rootElement.append(this.inputY),this.rootElement.append(n),this.rootElement.append(this.fieldWrapper),this.rootElement.append(this.button)}},{key:"updateCols",value:function(e){if(!(e<=0||e>30)){if(e>this.x)for(;e>this.x;)this.x++,this.field.forEach((function(t){t.push(0)}));if(e<this.x)for(;e<this.x;)this.x--,this.field.forEach((function(t){t.pop()}));t(this.fieldWrapper,this.field,this.cellClickHandler)}}},{key:"updateRows",value:function(e){if(!(e<=0||e>30)){if(e>this.y)for(;e>this.y;)this.y++,this.field.push(new Array(this.x).fill(0));if(e<this.y)for(;e<this.y;)this.y--,this.field.pop();t(this.fieldWrapper,this.field,this.cellClickHandler)}}},{key:"makeField",value:function(e,i){this.field=Array.from({length:i}).map((function(){return new Array(e).fill(0)})),t(this.fieldWrapper,this.field,this.cellClickHandler)}},{key:"start",value:function(){var i=this;this.gameIsRunning=!0,this.button.innerHTML="Stop",this.timer=setInterval((function(){var n;i.field=(n=i.field).map((function(t,i){return t.map((function(t,r){var a,u=function(t,i,n){for(var r=0,a=t-1;a<=t+1;a+=1)r+=Number(e(n,a,i-1));for(var u=t-1;u<=t+1;u+=1)r+=Number(e(n,u,i+1));return(r+=Number(e(n,t-1,i)))+Number(e(n,t+1,i))}(r,i,n),l=e(n,r,i);return 3===(a=u)?1:a>3||a<2?0:2===a&&1===l?1:0}))})),t(i.fieldWrapper,i.field,i.cellClickHandler),function(t){for(var e=0;e<t.length;e+=1)for(var i=t[e],n=0;n<i.length;n+=1)if(i[n])return!0;return!1}(i.field)||(alert("Death on the block"),i.stop())}),this.speed)}},{key:"stop",value:function(){this.gameIsRunning=!1,this.button.innerHTML="Start",this.timer&&clearInterval(this.timer)}}])&&i(a.prototype,u),Object.defineProperty(a,"prototype",{writable:!1}),r}())(document.getElementById("root"),5,5)}();
//# sourceMappingURL=bundle.js.map